<table class="table table-bordered table-hover sortable" locked-table-header bind-event="click">
    <thead>
    <tr ng-repeat="header in headersForTable" ng-show="header.showHeader">
        <th class="display-print" ng-click="sortByColumn()"></th>
        <th ng-repeat="subHeader in header.headers"
            ng-show="periodBasedValues[subHeader.period] !== undefined"
            ng-click="$parent.$index == 0 && sortByColumn(subHeader)"
            ng-class="{ 'cursorPointer' : $parent.$index == 0 }"
            colspan="{{ maxColumnsHeader.headers.length / header.headers.length}}">
            <div ng-class="{ 'header-cell-with-weeks' : showWeeks }">
                <span class="name">
                    {{ subHeader.name }}
                    <p ng-if="$parent.$index == 0 && showWeeks" class="small weeks">{{ '[' + subHeader.numberOfISOWeeks + ' weeks]' }}</p>
                </span>
                <span class="icon" ng-class="{ 'text-danger' : selectedSortKey == subHeader.sortKey }" ng-if="$parent.$index == 0">
                    <i class="fa fa-sort-desc" ng-show="definition.sortDescending"></i>
                    <i class="fa fa-sort-asc" ng-show="definition.sortAscending"></i>
                </span>
            </div>
        </th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="datum in viewMap | orderBy : orderBySortKeys">
        <td>{{getDataElementName(data.metaData.names[datum.dataElement])}}</td>
        <td ng-class="{ 'info' : selectedSortKey == subHeader.sortKey }" ng-repeat="subHeader in maxColumnsHeader.headers" ng-show="periodBasedValues[subHeader.period] !== undefined">
            <span ng-class="{'font-bold':selectedSortKey==subHeader.sortKey}"> {{getValue(subHeader.category, datum.dataElement, subHeader.period)}}</span>
        </td>
    </tr>
    </tbody>
</table>